import{S as t,i as e,s,j as a,k as l,l as n,m as r,n as c,o as i,f as o,a7 as u,x as $,u as m,v as d,w as f,d as p,Z as g,A as v,a8 as h,a9 as y,r as b,t as w,g as q,h as x,e as E,c as A,a as I,b as D,F as T,G as V,aa as _}from"../../chunks/vendor-64f8909b.js";import{g as j,u as k}from"../../chunks/articleActions-ca10c78d.js";import{A as C,I as R,T as N}from"../../chunks/TextComponent-e25f66a2.js";import{M as P,C as S,u as L,b as M}from"../../chunks/Message-d50c0ec1.js";import{L as F}from"../../chunks/Loading-bfbc499b.js";import{g as G}from"../../chunks/config-e02f87b3.js";import"../../chunks/userActions-1018a79f.js";import"../../chunks/singletons-12a22614.js";function H(t){let e,s,g,v,w,q,x,E;function A(e){t[8](e)}let I={isAuthenticate:t[2]};void 0!==t[1]&&(I.admin=t[1]),e=new C({props:I}),h.push((()=>y(e,"admin",A)));let D=t[0].message&&Z(t),T=t[0].loading&&B(),V=t[3].message&&J(t),_=t[3].loading&&O();return{c(){a(e.$$.fragment),g=l(),D&&D.c(),v=l(),T&&T.c(),w=l(),V&&V.c(),q=l(),_&&_.c(),x=n()},l(t){r(e.$$.fragment,t),g=c(t),D&&D.l(t),v=c(t),T&&T.l(t),w=c(t),V&&V.l(t),q=c(t),_&&_.l(t),x=n()},m(t,s){i(e,t,s),o(t,g,s),D&&D.m(t,s),o(t,v,s),T&&T.m(t,s),o(t,w,s),V&&V.m(t,s),o(t,q,s),_&&_.m(t,s),o(t,x,s),E=!0},p(t,a){const l={};4&a&&(l.isAuthenticate=t[2]),!s&&2&a&&(s=!0,l.admin=t[1],u((()=>s=!1))),e.$set(l),t[0].message?D?(D.p(t,a),1&a&&$(D,1)):(D=Z(t),D.c(),$(D,1),D.m(v.parentNode,v)):D&&(b(),m(D,1,1,(()=>{D=null})),f()),t[0].loading?T?1&a&&$(T,1):(T=B(),T.c(),$(T,1),T.m(w.parentNode,w)):T&&(b(),m(T,1,1,(()=>{T=null})),f()),t[3].message?V?(V.p(t,a),8&a&&$(V,1)):(V=J(t),V.c(),$(V,1),V.m(q.parentNode,q)):V&&(b(),m(V,1,1,(()=>{V=null})),f()),t[3].loading?_?8&a&&$(_,1):(_=O(),_.c(),$(_,1),_.m(x.parentNode,x)):_&&(b(),m(_,1,1,(()=>{_=null})),f())},i(t){E||($(e.$$.fragment,t),$(D),$(T),$(V),$(_),E=!0)},o(t){m(e.$$.fragment,t),m(D),m(T),m(V),m(_),E=!1},d(t){d(e,t),t&&p(g),D&&D.d(t),t&&p(v),T&&T.d(t),t&&p(w),V&&V.d(t),t&&p(q),_&&_.d(t),t&&p(x)}}}function Z(t){let e,s;return e=new P({props:{color:"warning",$$slots:{default:[z]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},p(t,s){const a={};4194305&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function z(t){let e,s=t[0].message+"";return{c(){e=w(s)},l(t){e=q(t,s)},m(t,s){o(t,e,s)},p(t,a){1&a&&s!==(s=t[0].message+"")&&x(e,s)},d(t){t&&p(e)}}}function B(t){let e,s;return e=new F({props:{color:"secondary",number:3}}),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function J(t){let e,s;return e=new P({props:{color:t[3].success?"success":"error",$$slots:{default:[K]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},p(t,s){const a={};8&s&&(a.color=t[3].success?"success":"error"),4194312&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function K(t){let e,s=t[3].message+"";return{c(){e=w(s)},l(t){e=q(t,s)},m(t,s){o(t,e,s)},p(t,a){8&a&&s!==(s=t[3].message+"")&&x(e,s)},d(t){t&&p(e)}}}function O(t){let e,s;return e=new F({props:{color:"secondary",number:3}}),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function Q(t){let e,s;return e=new S({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},p(t,s){const a={};4194307&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function U(t){let e,s,a=t[0].article.createdAt.toString().substring(0,10)+"";return{c(){e=E("p"),s=w(a)},l(t){e=A(t,"P",{});var l=I(e);s=q(l,a),l.forEach(p)},m(t,a){o(t,e,a),T(e,s)},p(t,e){1&e&&a!==(a=t[0].article.createdAt.toString().substring(0,10)+"")&&x(s,a)},i:V,o:V,d(t){t&&p(e)}}}function W(t){let e,s,l;function n(e){t[15](e)}let c={type:"date"};return void 0!==t[0].article.createdAt&&(c.value=t[0].article.createdAt),e=new _({props:c}),h.push((()=>y(e,"value",n))),e.$on("change",t[4]),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),l=!0},p(t,a){const l={};!s&&1&a&&(s=!0,l.value=t[0].article.createdAt,u((()=>s=!1))),e.$set(l)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function X(t){let e,s,n,g,v,x,V,_,j,k,C,P,S,L,M,F,G,H,Z,z,B,J,K,O,Q,X,Y,tt,et,at,lt,nt,rt,ct,it,ot,ut,$t,mt,dt;function ft(e){t[9](e)}function pt(e){t[10](e)}let gt={admin:t[1],edit:st,updateContent:t[4]};function vt(e){t[11](e)}function ht(e){t[12](e)}void 0!==t[0].article.url.values&&(gt.values=t[0].article.url.values),void 0!==t[0].article.url.styles&&(gt.styles=t[0].article.url.styles),n=new R({props:gt}),h.push((()=>y(n,"values",ft))),h.push((()=>y(n,"styles",pt)));let yt={admin:t[1],edit:st,updateContent:t[4]};function bt(e){t[13](e)}function wt(e){t[14](e)}void 0!==t[0].article.title.values&&(yt.values=t[0].article.title.values),void 0!==t[0].article.title.styles&&(yt.styles=t[0].article.title.styles),j=new N({props:yt}),h.push((()=>y(j,"values",vt))),h.push((()=>y(j,"styles",ht)));let qt={admin:t[1],edit:st,updateContent:t[4]};void 0!==t[0].article.author.values&&(qt.values=t[0].article.author.values),void 0!==t[0].article.author.styles&&(qt.styles=t[0].article.author.styles),H=new N({props:qt}),h.push((()=>y(H,"values",bt))),h.push((()=>y(H,"styles",wt)));const xt=[W,U],Et=[];function At(t,e){return t[1]?0:1}function It(e){t[16](e)}function Dt(e){t[17](e)}X=At(t),Y=Et[X]=xt[X](t);let Tt={admin:t[1],edit:st,updateContent:t[4]};function Vt(e){t[18](e)}function _t(e){t[19](e)}void 0!==t[0].article.subTitle.values&&(Tt.values=t[0].article.subTitle.values),void 0!==t[0].article.subTitle.styles&&(Tt.styles=t[0].article.subTitle.styles),lt=new N({props:Tt}),h.push((()=>y(lt,"values",It))),h.push((()=>y(lt,"styles",Dt)));let jt={admin:t[1],edit:st,updateContent:t[4]};return void 0!==t[0].article.content.values&&(jt.values=t[0].article.content.values),void 0!==t[0].article.content.styles&&(jt.styles=t[0].article.content.styles),ut=new N({props:jt}),h.push((()=>y(ut,"values",Vt))),h.push((()=>y(ut,"styles",_t))),{c(){e=E("div"),s=E("div"),a(n.$$.fragment),x=l(),V=E("div"),_=E("h1"),a(j.$$.fragment),P=l(),S=E("div"),L=E("div"),M=w("Rédigé par :"),F=l(),G=E("div"),a(H.$$.fragment),B=l(),J=E("div"),K=w("Publié le :"),O=l(),Q=E("div"),Y.c(),tt=l(),et=E("div"),at=E("div"),a(lt.$$.fragment),ct=l(),it=E("div"),ot=E("div"),a(ut.$$.fragment),this.h()},l(t){e=A(t,"DIV",{class:!0});var a=I(e);s=A(a,"DIV",{class:!0});var l=I(s);r(n.$$.fragment,l),l.forEach(p),x=c(a),V=A(a,"DIV",{class:!0});var i=I(V);_=A(i,"H1",{});var o=I(_);r(j.$$.fragment,o),o.forEach(p),P=c(i),S=A(i,"DIV",{class:!0});var u=I(S);L=A(u,"DIV",{class:!0});var $=I(L);M=q($,"Rédigé par :"),$.forEach(p),F=c(u),G=A(u,"DIV",{class:!0});var m=I(G);r(H.$$.fragment,m),m.forEach(p),B=c(u),J=A(u,"DIV",{class:!0});var d=I(J);K=q(d,"Publié le :"),d.forEach(p),O=c(u),Q=A(u,"DIV",{class:!0});var f=I(Q);Y.l(f),f.forEach(p),u.forEach(p),i.forEach(p),a.forEach(p),tt=c(t),et=A(t,"DIV",{class:!0});var g=I(et);at=A(g,"DIV",{class:!0});var v=I(at);r(lt.$$.fragment,v),v.forEach(p),g.forEach(p),ct=c(t),it=A(t,"DIV",{class:!0});var h=I(it);ot=A(h,"DIV",{class:!0});var y=I(ot);r(ut.$$.fragment,y),y.forEach(p),h.forEach(p),this.h()},h(){D(s,"class","col-md-3 col-sm-12"),D(L,"class","col text-end"),D(G,"class","col text-start"),D(J,"class","col text-end"),D(Q,"class","col text-start"),D(S,"class","row"),D(V,"class","col-md-9 col-sm-12"),D(e,"class","row align-items-center"),D(at,"class","col mx-5"),D(et,"class","row"),D(ot,"class","col"),D(it,"class","row")},m(t,a){o(t,e,a),T(e,s),i(n,s,null),T(e,x),T(e,V),T(V,_),i(j,_,null),T(V,P),T(V,S),T(S,L),T(L,M),T(S,F),T(S,G),i(H,G,null),T(S,B),T(S,J),T(J,K),T(S,O),T(S,Q),Et[X].m(Q,null),o(t,tt,a),o(t,et,a),T(et,at),i(lt,at,null),o(t,ct,a),o(t,it,a),T(it,ot),i(ut,ot,null),dt=!0},p(t,e){const s={};2&e&&(s.admin=t[1]),!g&&1&e&&(g=!0,s.values=t[0].article.url.values,u((()=>g=!1))),!v&&1&e&&(v=!0,s.styles=t[0].article.url.styles,u((()=>v=!1))),n.$set(s);const a={};2&e&&(a.admin=t[1]),!k&&1&e&&(k=!0,a.values=t[0].article.title.values,u((()=>k=!1))),!C&&1&e&&(C=!0,a.styles=t[0].article.title.styles,u((()=>C=!1))),j.$set(a);const l={};2&e&&(l.admin=t[1]),!Z&&1&e&&(Z=!0,l.values=t[0].article.author.values,u((()=>Z=!1))),!z&&1&e&&(z=!0,l.styles=t[0].article.author.styles,u((()=>z=!1))),H.$set(l);let r=X;X=At(t),X===r?Et[X].p(t,e):(b(),m(Et[r],1,1,(()=>{Et[r]=null})),f(),Y=Et[X],Y?Y.p(t,e):(Y=Et[X]=xt[X](t),Y.c()),$(Y,1),Y.m(Q,null));const c={};2&e&&(c.admin=t[1]),!nt&&1&e&&(nt=!0,c.values=t[0].article.subTitle.values,u((()=>nt=!1))),!rt&&1&e&&(rt=!0,c.styles=t[0].article.subTitle.styles,u((()=>rt=!1))),lt.$set(c);const i={};2&e&&(i.admin=t[1]),!$t&&1&e&&($t=!0,i.values=t[0].article.content.values,u((()=>$t=!1))),!mt&&1&e&&(mt=!0,i.styles=t[0].article.content.styles,u((()=>mt=!1))),ut.$set(i)},i(t){dt||($(n.$$.fragment,t),$(j.$$.fragment,t),$(H.$$.fragment,t),$(Y),$(lt.$$.fragment,t),$(ut.$$.fragment,t),dt=!0)},o(t){m(n.$$.fragment,t),m(j.$$.fragment,t),m(H.$$.fragment,t),m(Y),m(lt.$$.fragment,t),m(ut.$$.fragment,t),dt=!1},d(t){t&&p(e),d(n),d(j),d(H),Et[X].d(),t&&p(tt),t&&p(et),d(lt),t&&p(ct),t&&p(it),d(ut)}}}function Y(t){let e,s,a,r=t[2]&&H(t),i=t[0].article&&Q(t);return{c(){r&&r.c(),e=l(),i&&i.c(),s=n()},l(t){r&&r.l(t),e=c(t),i&&i.l(t),s=n()},m(t,l){r&&r.m(t,l),o(t,e,l),i&&i.m(t,l),o(t,s,l),a=!0},p(t,[a]){t[2]?r?(r.p(t,a),4&a&&$(r,1)):(r=H(t),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(b(),m(r,1,1,(()=>{r=null})),f()),t[0].article?i?(i.p(t,a),1&a&&$(i,1)):(i=Q(t),i.c(),$(i,1),i.m(s.parentNode,s)):i&&(b(),m(i,1,1,(()=>{i=null})),f())},i(t){a||($(r),$(i),a=!0)},o(t){m(r),m(i),a=!1},d(t){r&&r.d(t),t&&p(e),i&&i.d(t),t&&p(s)}}}const tt=!0;async function et({page:t,fetch:e,session:s,context:a}){const l={id:null,category:null};let[n,r]=t.params.data.split("/");l.category=n||"",l.id=r||"";let c=t.path.split("/login"),i={content:{content:[],name:""},loading:!0,message:""};return 1===c.length&&(t.path.substring(1).replace("/","-"),i=await j(r)),{props:{articleRequest:i,params:l,redirection:c}}}let st=!1;function at(t,e,s){let a,l,n,r;g(t,L,(t=>s(7,n=t))),g(t,M,(t=>s(3,r=t)));let{params:c}=e,{articleRequest:i}=e,{redirection:o}=e;v((()=>{o.length>1&&G(`/login?redirection=${o[0]}`)}));let u=!1;return t.$$set=t=>{"params"in t&&s(5,c=t.params),"articleRequest"in t&&s(0,i=t.articleRequest),"redirection"in t&&s(6,o=t.redirection)},t.$$.update=()=>{t.$$.dirty,32&t.$$.dirty&&(a=c.id),128&t.$$.dirty&&s(2,l=!(!n||"admin"!==n.profil))},[i,u,l,r,()=>{k(a,i.article)},c,o,n,function(t){u=t,s(1,u)},function(e){t.$$.not_equal(i.article.url.values,e)&&(i.article.url.values=e,s(0,i))},function(e){t.$$.not_equal(i.article.url.styles,e)&&(i.article.url.styles=e,s(0,i))},function(e){t.$$.not_equal(i.article.title.values,e)&&(i.article.title.values=e,s(0,i))},function(e){t.$$.not_equal(i.article.title.styles,e)&&(i.article.title.styles=e,s(0,i))},function(e){t.$$.not_equal(i.article.author.values,e)&&(i.article.author.values=e,s(0,i))},function(e){t.$$.not_equal(i.article.author.styles,e)&&(i.article.author.styles=e,s(0,i))},function(e){t.$$.not_equal(i.article.createdAt,e)&&(i.article.createdAt=e,s(0,i))},function(e){t.$$.not_equal(i.article.subTitle.values,e)&&(i.article.subTitle.values=e,s(0,i))},function(e){t.$$.not_equal(i.article.subTitle.styles,e)&&(i.article.subTitle.styles=e,s(0,i))},function(e){t.$$.not_equal(i.article.content.values,e)&&(i.article.content.values=e,s(0,i))},function(e){t.$$.not_equal(i.article.content.styles,e)&&(i.article.content.styles=e,s(0,i))}]}class lt extends t{constructor(t){super(),e(this,t,at,Y,s,{params:5,articleRequest:0,redirection:6})}}export{lt as default,et as load,tt as prerender};
