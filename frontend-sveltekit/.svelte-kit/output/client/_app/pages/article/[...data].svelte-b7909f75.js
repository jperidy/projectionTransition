import{S as t,i as e,s as a,j as s,k as l,l as n,m as r,n as c,o as i,f as o,_ as u,x as $,u as m,v as d,w as f,d as p,$ as g,A as v,a0 as h,a1 as y,r as b,t as w,g as q,h as x,e as E,c as I,a as A,b as D,O as T,T as V,a2 as _}from"../../chunks/vendor-5d9b017f.js";import{g as C,u as j}from"../../chunks/articleActions-81437636.js";import{A as k,L as R,I as N,T as P}from"../../chunks/Loading-f946706e.js";import{M as S,C as L,u as H,a as M}from"../../chunks/CustomContainer-a7142113.js";import{g as O}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function z(t){let e,a,g,v,w,q,x,E;function I(e){t[8](e)}let A={isAuthenticate:t[2]};void 0!==t[1]&&(A.admin=t[1]),e=new k({props:A}),h.push((()=>y(e,"admin",I)));let D=t[0].message&&B(t),T=t[0].loading&&G(),V=t[3].message&&J(t),_=t[3].loading&&Q();return{c(){s(e.$$.fragment),g=l(),D&&D.c(),v=l(),T&&T.c(),w=l(),V&&V.c(),q=l(),_&&_.c(),x=n()},l(t){r(e.$$.fragment,t),g=c(t),D&&D.l(t),v=c(t),T&&T.l(t),w=c(t),V&&V.l(t),q=c(t),_&&_.l(t),x=n()},m(t,a){i(e,t,a),o(t,g,a),D&&D.m(t,a),o(t,v,a),T&&T.m(t,a),o(t,w,a),V&&V.m(t,a),o(t,q,a),_&&_.m(t,a),o(t,x,a),E=!0},p(t,s){const l={};4&s&&(l.isAuthenticate=t[2]),!a&&2&s&&(a=!0,l.admin=t[1],u((()=>a=!1))),e.$set(l),t[0].message?D?(D.p(t,s),1&s&&$(D,1)):(D=B(t),D.c(),$(D,1),D.m(v.parentNode,v)):D&&(b(),m(D,1,1,(()=>{D=null})),f()),t[0].loading?T?1&s&&$(T,1):(T=G(),T.c(),$(T,1),T.m(w.parentNode,w)):T&&(b(),m(T,1,1,(()=>{T=null})),f()),t[3].message?V?(V.p(t,s),8&s&&$(V,1)):(V=J(t),V.c(),$(V,1),V.m(q.parentNode,q)):V&&(b(),m(V,1,1,(()=>{V=null})),f()),t[3].loading?_?8&s&&$(_,1):(_=Q(),_.c(),$(_,1),_.m(x.parentNode,x)):_&&(b(),m(_,1,1,(()=>{_=null})),f())},i(t){E||($(e.$$.fragment,t),$(D),$(T),$(V),$(_),E=!0)},o(t){m(e.$$.fragment,t),m(D),m(T),m(V),m(_),E=!1},d(t){d(e,t),t&&p(g),D&&D.d(t),t&&p(v),T&&T.d(t),t&&p(w),V&&V.d(t),t&&p(q),_&&_.d(t),t&&p(x)}}}function B(t){let e,a;return e=new S({props:{color:"warning",$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),a=!0},p(t,a){const s={};4194305&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||($(e.$$.fragment,t),a=!0)},o(t){m(e.$$.fragment,t),a=!1},d(t){d(e,t)}}}function F(t){let e,a=t[0].message+"";return{c(){e=w(a)},l(t){e=q(t,a)},m(t,a){o(t,e,a)},p(t,s){1&s&&a!==(a=t[0].message+"")&&x(e,a)},d(t){t&&p(e)}}}function G(t){let e,a;return e=new R({props:{color:"secondary",number:3}}),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),a=!0},i(t){a||($(e.$$.fragment,t),a=!0)},o(t){m(e.$$.fragment,t),a=!1},d(t){d(e,t)}}}function J(t){let e,a;return e=new S({props:{color:t[3].success?"success":"error",$$slots:{default:[K]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),a=!0},p(t,a){const s={};8&a&&(s.color=t[3].success?"success":"error"),4194312&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||($(e.$$.fragment,t),a=!0)},o(t){m(e.$$.fragment,t),a=!1},d(t){d(e,t)}}}function K(t){let e,a=t[3].message+"";return{c(){e=w(a)},l(t){e=q(t,a)},m(t,a){o(t,e,a)},p(t,s){8&s&&a!==(a=t[3].message+"")&&x(e,a)},d(t){t&&p(e)}}}function Q(t){let e,a;return e=new R({props:{color:"secondary",number:3}}),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),a=!0},i(t){a||($(e.$$.fragment,t),a=!0)},o(t){m(e.$$.fragment,t),a=!1},d(t){d(e,t)}}}function U(t){let e,a;return e=new L({props:{$$slots:{default:[Y]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){i(e,t,s),a=!0},p(t,a){const s={};4194307&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||($(e.$$.fragment,t),a=!0)},o(t){m(e.$$.fragment,t),a=!1},d(t){d(e,t)}}}function W(t){let e,a,s=t[0].article.createdAt.toString().substring(0,10)+"";return{c(){e=E("p"),a=w(s)},l(t){e=I(t,"P",{});var l=A(e);a=q(l,s),l.forEach(p)},m(t,s){o(t,e,s),T(e,a)},p(t,e){1&e&&s!==(s=t[0].article.createdAt.toString().substring(0,10)+"")&&x(a,s)},i:V,o:V,d(t){t&&p(e)}}}function X(t){let e,a,l;function n(e){t[15](e)}let c={type:"date"};return void 0!==t[0].article.createdAt&&(c.value=t[0].article.createdAt),e=new _({props:c}),h.push((()=>y(e,"value",n))),e.$on("change",t[4]),{c(){s(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,a){i(e,t,a),l=!0},p(t,s){const l={};!a&&1&s&&(a=!0,l.value=t[0].article.createdAt,u((()=>a=!1))),e.$set(l)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function Y(t){let e,a,n,g,v,x,V,_,C,j,k,R,S,L,H,M,O,z,B,F,G,J,K,Q,U,Y,Z,tt,et,st,lt,nt,rt,ct,it,ot,ut,$t,mt,dt;function ft(e){t[9](e)}function pt(e){t[10](e)}let gt={admin:t[1],edit:at,updateContent:t[4]};function vt(e){t[11](e)}function ht(e){t[12](e)}void 0!==t[0].article.url.values&&(gt.values=t[0].article.url.values),void 0!==t[0].article.url.styles&&(gt.styles=t[0].article.url.styles),n=new N({props:gt}),h.push((()=>y(n,"values",ft))),h.push((()=>y(n,"styles",pt)));let yt={admin:t[1],edit:at,updateContent:t[4]};function bt(e){t[13](e)}function wt(e){t[14](e)}void 0!==t[0].article.title.values&&(yt.values=t[0].article.title.values),void 0!==t[0].article.title.styles&&(yt.styles=t[0].article.title.styles),C=new P({props:yt}),h.push((()=>y(C,"values",vt))),h.push((()=>y(C,"styles",ht)));let qt={admin:t[1],edit:at,updateContent:t[4]};void 0!==t[0].article.author.values&&(qt.values=t[0].article.author.values),void 0!==t[0].article.author.styles&&(qt.styles=t[0].article.author.styles),z=new P({props:qt}),h.push((()=>y(z,"values",bt))),h.push((()=>y(z,"styles",wt)));const xt=[X,W],Et=[];function It(t,e){return t[1]?0:1}function At(e){t[16](e)}function Dt(e){t[17](e)}Y=It(t),Z=Et[Y]=xt[Y](t);let Tt={admin:t[1],edit:at,updateContent:t[4]};function Vt(e){t[18](e)}function _t(e){t[19](e)}void 0!==t[0].article.subTitle.values&&(Tt.values=t[0].article.subTitle.values),void 0!==t[0].article.subTitle.styles&&(Tt.styles=t[0].article.subTitle.styles),lt=new P({props:Tt}),h.push((()=>y(lt,"values",At))),h.push((()=>y(lt,"styles",Dt)));let Ct={admin:t[1],edit:at,updateContent:t[4]};return void 0!==t[0].article.content.values&&(Ct.values=t[0].article.content.values),void 0!==t[0].article.content.styles&&(Ct.styles=t[0].article.content.styles),ut=new P({props:Ct}),h.push((()=>y(ut,"values",Vt))),h.push((()=>y(ut,"styles",_t))),{c(){e=E("div"),a=E("div"),s(n.$$.fragment),x=l(),V=E("div"),_=E("h1"),s(C.$$.fragment),R=l(),S=E("div"),L=E("div"),H=w("Rédigé par :"),M=l(),O=E("div"),s(z.$$.fragment),G=l(),J=E("div"),K=w("Publié le :"),Q=l(),U=E("div"),Z.c(),tt=l(),et=E("div"),st=E("div"),s(lt.$$.fragment),ct=l(),it=E("div"),ot=E("div"),s(ut.$$.fragment),this.h()},l(t){e=I(t,"DIV",{class:!0});var s=A(e);a=I(s,"DIV",{class:!0});var l=A(a);r(n.$$.fragment,l),l.forEach(p),x=c(s),V=I(s,"DIV",{class:!0});var i=A(V);_=I(i,"H1",{});var o=A(_);r(C.$$.fragment,o),o.forEach(p),R=c(i),S=I(i,"DIV",{class:!0});var u=A(S);L=I(u,"DIV",{class:!0});var $=A(L);H=q($,"Rédigé par :"),$.forEach(p),M=c(u),O=I(u,"DIV",{class:!0});var m=A(O);r(z.$$.fragment,m),m.forEach(p),G=c(u),J=I(u,"DIV",{class:!0});var d=A(J);K=q(d,"Publié le :"),d.forEach(p),Q=c(u),U=I(u,"DIV",{class:!0});var f=A(U);Z.l(f),f.forEach(p),u.forEach(p),i.forEach(p),s.forEach(p),tt=c(t),et=I(t,"DIV",{class:!0});var g=A(et);st=I(g,"DIV",{class:!0});var v=A(st);r(lt.$$.fragment,v),v.forEach(p),g.forEach(p),ct=c(t),it=I(t,"DIV",{class:!0});var h=A(it);ot=I(h,"DIV",{class:!0});var y=A(ot);r(ut.$$.fragment,y),y.forEach(p),h.forEach(p),this.h()},h(){D(a,"class","col-md-3 col-sm-12"),D(L,"class","col text-end"),D(O,"class","col text-start"),D(J,"class","col text-end"),D(U,"class","col text-start"),D(S,"class","row"),D(V,"class","col-md-9 col-sm-12"),D(e,"class","row align-items-center"),D(st,"class","col mx-5"),D(et,"class","row"),D(ot,"class","col"),D(it,"class","row")},m(t,s){o(t,e,s),T(e,a),i(n,a,null),T(e,x),T(e,V),T(V,_),i(C,_,null),T(V,R),T(V,S),T(S,L),T(L,H),T(S,M),T(S,O),i(z,O,null),T(S,G),T(S,J),T(J,K),T(S,Q),T(S,U),Et[Y].m(U,null),o(t,tt,s),o(t,et,s),T(et,st),i(lt,st,null),o(t,ct,s),o(t,it,s),T(it,ot),i(ut,ot,null),dt=!0},p(t,e){const a={};2&e&&(a.admin=t[1]),!g&&1&e&&(g=!0,a.values=t[0].article.url.values,u((()=>g=!1))),!v&&1&e&&(v=!0,a.styles=t[0].article.url.styles,u((()=>v=!1))),n.$set(a);const s={};2&e&&(s.admin=t[1]),!j&&1&e&&(j=!0,s.values=t[0].article.title.values,u((()=>j=!1))),!k&&1&e&&(k=!0,s.styles=t[0].article.title.styles,u((()=>k=!1))),C.$set(s);const l={};2&e&&(l.admin=t[1]),!B&&1&e&&(B=!0,l.values=t[0].article.author.values,u((()=>B=!1))),!F&&1&e&&(F=!0,l.styles=t[0].article.author.styles,u((()=>F=!1))),z.$set(l);let r=Y;Y=It(t),Y===r?Et[Y].p(t,e):(b(),m(Et[r],1,1,(()=>{Et[r]=null})),f(),Z=Et[Y],Z?Z.p(t,e):(Z=Et[Y]=xt[Y](t),Z.c()),$(Z,1),Z.m(U,null));const c={};2&e&&(c.admin=t[1]),!nt&&1&e&&(nt=!0,c.values=t[0].article.subTitle.values,u((()=>nt=!1))),!rt&&1&e&&(rt=!0,c.styles=t[0].article.subTitle.styles,u((()=>rt=!1))),lt.$set(c);const i={};2&e&&(i.admin=t[1]),!$t&&1&e&&($t=!0,i.values=t[0].article.content.values,u((()=>$t=!1))),!mt&&1&e&&(mt=!0,i.styles=t[0].article.content.styles,u((()=>mt=!1))),ut.$set(i)},i(t){dt||($(n.$$.fragment,t),$(C.$$.fragment,t),$(z.$$.fragment,t),$(Z),$(lt.$$.fragment,t),$(ut.$$.fragment,t),dt=!0)},o(t){m(n.$$.fragment,t),m(C.$$.fragment,t),m(z.$$.fragment,t),m(Z),m(lt.$$.fragment,t),m(ut.$$.fragment,t),dt=!1},d(t){t&&p(e),d(n),d(C),d(z),Et[Y].d(),t&&p(tt),t&&p(et),d(lt),t&&p(ct),t&&p(it),d(ut)}}}function Z(t){let e,a,s,r=t[2]&&z(t),i=t[0].article&&U(t);return{c(){r&&r.c(),e=l(),i&&i.c(),a=n()},l(t){r&&r.l(t),e=c(t),i&&i.l(t),a=n()},m(t,l){r&&r.m(t,l),o(t,e,l),i&&i.m(t,l),o(t,a,l),s=!0},p(t,[s]){t[2]?r?(r.p(t,s),4&s&&$(r,1)):(r=z(t),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(b(),m(r,1,1,(()=>{r=null})),f()),t[0].article?i?(i.p(t,s),1&s&&$(i,1)):(i=U(t),i.c(),$(i,1),i.m(a.parentNode,a)):i&&(b(),m(i,1,1,(()=>{i=null})),f())},i(t){s||($(r),$(i),s=!0)},o(t){m(r),m(i),s=!1},d(t){r&&r.d(t),t&&p(e),i&&i.d(t),t&&p(a)}}}const tt=!0;async function et({page:t,fetch:e,session:a,context:s}){const l={id:null,category:null};let[n,r]=t.params.data.split("/");l.category=n||"",l.id=r||"";let c=t.path.split("/login"),i={content:{content:[],name:""},loading:!0,message:""};return 1===c.length&&(t.path.substring(1).replace("/","-"),i=await C(r)),{props:{articleRequest:i,params:l,redirection:c}}}let at=!1;function st(t,e,a){let s,l,n,r;g(t,H,(t=>a(7,n=t))),g(t,M,(t=>a(3,r=t)));let{params:c}=e,{articleRequest:i}=e,{redirection:o}=e;v((()=>{o.length>1&&O(`/login?redirection=${o[0]}`)}));let u=!1;return t.$$set=t=>{"params"in t&&a(5,c=t.params),"articleRequest"in t&&a(0,i=t.articleRequest),"redirection"in t&&a(6,o=t.redirection)},t.$$.update=()=>{t.$$.dirty,32&t.$$.dirty&&(s=c.id),128&t.$$.dirty&&a(2,l=!(!n||"admin"!==n.profil))},[i,u,l,r,()=>{j(s,i.article)},c,o,n,function(t){u=t,a(1,u)},function(e){t.$$.not_equal(i.article.url.values,e)&&(i.article.url.values=e,a(0,i))},function(e){t.$$.not_equal(i.article.url.styles,e)&&(i.article.url.styles=e,a(0,i))},function(e){t.$$.not_equal(i.article.title.values,e)&&(i.article.title.values=e,a(0,i))},function(e){t.$$.not_equal(i.article.title.styles,e)&&(i.article.title.styles=e,a(0,i))},function(e){t.$$.not_equal(i.article.author.values,e)&&(i.article.author.values=e,a(0,i))},function(e){t.$$.not_equal(i.article.author.styles,e)&&(i.article.author.styles=e,a(0,i))},function(e){t.$$.not_equal(i.article.createdAt,e)&&(i.article.createdAt=e,a(0,i))},function(e){t.$$.not_equal(i.article.subTitle.values,e)&&(i.article.subTitle.values=e,a(0,i))},function(e){t.$$.not_equal(i.article.subTitle.styles,e)&&(i.article.subTitle.styles=e,a(0,i))},function(e){t.$$.not_equal(i.article.content.values,e)&&(i.article.content.values=e,a(0,i))},function(e){t.$$.not_equal(i.article.content.styles,e)&&(i.article.content.styles=e,a(0,i))}]}class lt extends t{constructor(t){super(),e(this,t,st,Z,a,{params:5,articleRequest:0,redirection:6})}}export{lt as default,et as load,tt as prerender};
