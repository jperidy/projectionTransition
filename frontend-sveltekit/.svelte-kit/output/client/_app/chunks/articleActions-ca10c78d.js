import{Y as e,X as a}from"./vendor-64f8909b.js";import{c as s,b as t,u as r,d as i,e as c,f as n}from"./Message-d50c0ec1.js";import{c as o}from"./config-e02f87b3.js";const l=o.API_URL_PROD,g=async(a,t,r,c)=>{i.set({articles:null,loading:!0,message:""});try{const s={headers:{"Content-type":"Application/json"}},{data:n}=await e.get(`${l}/api/article?category=${a}&keyword=${c}&page=${r}&size=${t}`,s);return i.set({articles:n.value,loading:!1,message:""}),{articles:n.value,loading:!1,message:""}}catch(n){return s.set({articles:null,loading:!1,message:"Error loading articles "+a+" "+n}),{articles:null,loading:!1,message:"Error loading articles "+a+" "+n}}},d=async a=>{s.set({article:null,loading:!0,message:""});try{const t={headers:{"Content-type":"Application/json"}},{data:r}=await e.get(`${l}/api/article/${a}`,t);return s.set({article:r.value,loading:!1,message:""}),{article:r.value,loading:!1,message:""}}catch(t){return s.set({article:null,loading:!1,message:"Error loading the article"+t}),{article:null,loading:!1,message:"Error loading the article"+t}}},u=async(s,i)=>{t.set({success:!1,loading:!0,message:""});const c=a(r);try{const a={headers:{"Content-type":"Application/json",Authorization:`Bearer ${c.token}`}},{data:r}=await e.put(`${l}/api/article/${s}`,i,a);t.set({success:!0,loading:!1,message:"Article updated"})}catch(n){t.set({success:!1,loading:!1,message:"Error updating article "+n})}},p=async s=>{c.set({success:!1,loading:!0,message:""});const t=a(r);try{const a={headers:{"Content-type":"Application/json",Authorization:`Bearer ${t.token}`}},{data:r}=await e.post(`${l}/api/article`,s,a);c.set({success:!0,loading:!1,message:"Article updated"})}catch(i){c.set({success:!1,loading:!1,message:"Error updating article "+i})}},m=async s=>{n.set({success:!1,loading:!0,message:""});const t=a(r);try{const a={headers:{"Content-type":"Application/json",Authorization:`Bearer ${t.token}`}},{data:r}=await e.delete(`${l}/api/article/${s}`,a);n.set({success:!0,loading:!1,message:"Article deleted"})}catch(i){n.set({success:!1,loading:!1,message:"Error deleting article "+i})}};export{g as a,p as c,m as d,d as g,u};
