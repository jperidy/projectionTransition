import{Y as e,X as t,S as a,i as s,s as n,e as r,k as i,j as o,T as c,c as l,d as p,n as u,m as d,b as m,F as g,f as h,o as f,x as E,u as v,v as y,t as $,a as O,g as S,a0 as x,Q as T,ao as b,a1 as A,l as G}from"./vendor-64f8909b.js";import{h as L,g as q,u as C,i as I,j as M,C as D}from"./Message-d50c0ec1.js";import{c as P}from"./config-e02f87b3.js";const U=P.API_URL_PROD,_=async t=>{L.set({film:null,loading:!0,message:""});try{const a={headers:{"Content-type":"Application/json"}},{data:s}=await e.get(`${U}/api/film/${t}`,a);return L.set({film:s.value,loading:!1,message:""}),{film:s.value,loading:!1,message:""}}catch(a){return L.set({film:null,loading:!1,message:"Error loading the film"+a}),{film:null,loading:!1,message:"Error loading the film"+a}}},j=async(a,s)=>{q.set({success:!1,loading:!0,message:""});const n=t(C);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${n.token}`}},{data:r}=await e.put(`${U}/api/film/${a}`,s,t);q.set({success:!0,loading:!1,message:"film updated"})}catch(r){q.set({success:!1,loading:!1,message:"Error updating film "+r})}},z=async a=>{const s={title:{},location:a,real:{},url:{},summury:{},infosGenerales:{},actions:[]};M.set({success:!1,loading:!0,message:""});const n=t(C);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${n.token}`}},{data:a}=await e.post(`${U}/api/film`,s,t);return M.set({success:!0,loading:!1,message:"film updated"}),a.value._id}catch(r){M.set({success:!1,loading:!1,message:"Error updating film "+r})}},w=async a=>{if(a.filmId&&await(async a=>{I.set({success:!1,loading:!0,message:""});const s=t(C);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${s.token}`}},{data:n}=await e.delete(`${U}/api/film/${a}`,t);I.set({success:!0,loading:!1,message:"film deleted"})}catch(n){I.set({success:!1,loading:!1,message:"Error deleting film "+n})}})(a.filmId),a.values&&a.values.length)for(let e=0;e<a.values.length;e++)w(a.values[e])};function B(e){let t,a,s,n,o,c,d,f,E,v,y,G,L,q,C,I,M,D,P,U,_,j,z,w,B,N,R,F,k,V,Q,X,Y;return{c(){t=r("label"),a=$('Balise "title" pour le SEO'),s=i(),n=r("input"),o=i(),c=r("div"),d=$("Très important pour le SEO. \n            Synthèse du contenu de la page. \n            Structure unique sur l'ensemble du site. \n            Chaque page a son propre titre (unique).\n            Ne pas dépasser 60 à 80 caractères.\n            Ne pas bourrer le mots clés."),f=i(),E=r("label"),v=$('Balise "description" pour le SEO'),y=i(),G=r("input"),L=i(),q=r("div"),C=$("Pas importante pour le SEO. Mais importante dans l'affichage du résultat de la recherche.\n            Le contenu de cette balise peut se retrouver juste sous le titre de la page dans le résultat de la recherche.\n            Ce n'est pas obligatoire, parfois le moteur de recherche préférera afficher une partie du contenu de la page. \n            Soigner le contenu (des phrases). Mettre les mots clés de la page dans ces phrases.\n            Eviter de dépasser 160 caractères.\n            Avoir une description unique pour chacune des pages."),I=i(),M=r("label"),D=$("Titre (Open Graph) : vignette lorsque vous partagez la page sur les réseaux sociaux"),P=i(),U=r("input"),_=i(),j=r("div"),z=$("Pas d'impact sur le SEO.\n            Lorsqu'un utilisateur partagera le lien de cette page sur les réseaux sociaux, une vignette s'affichera avec en titre le contenu que vous aurez renseigné."),w=i(),B=r("label"),N=$("Description (Open Graph) : vignette lorsque vous partagez la page sur les réseaux sociaux"),R=i(),F=r("input"),k=i(),V=r("div"),Q=$("Pas d'impact sur le SEO.\n            Lorsqu'un utilisateur partagera le lien de cette page sur les réseaux sociaux, une vignette s'affichera avec en description le contenu que vous aurez renseigné."),this.h()},l(e){t=l(e,"LABEL",{for:!0,class:!0});var r=O(t);a=S(r,'Balise "title" pour le SEO'),r.forEach(p),s=u(e),n=l(e,"INPUT",{id:!0,class:!0,type:!0,"aria-describedby":!0,placeholder:!0}),o=u(e),c=l(e,"DIV",{id:!0,class:!0});var i=O(c);d=S(i,"Très important pour le SEO. \n            Synthèse du contenu de la page. \n            Structure unique sur l'ensemble du site. \n            Chaque page a son propre titre (unique).\n            Ne pas dépasser 60 à 80 caractères.\n            Ne pas bourrer le mots clés."),i.forEach(p),f=u(e),E=l(e,"LABEL",{for:!0,class:!0});var m=O(E);v=S(m,'Balise "description" pour le SEO'),m.forEach(p),y=u(e),G=l(e,"INPUT",{id:!0,class:!0,type:!0,"aria-describedby":!0,placeholder:!0}),L=u(e),q=l(e,"DIV",{id:!0,class:!0});var g=O(q);C=S(g,"Pas importante pour le SEO. Mais importante dans l'affichage du résultat de la recherche.\n            Le contenu de cette balise peut se retrouver juste sous le titre de la page dans le résultat de la recherche.\n            Ce n'est pas obligatoire, parfois le moteur de recherche préférera afficher une partie du contenu de la page. \n            Soigner le contenu (des phrases). Mettre les mots clés de la page dans ces phrases.\n            Eviter de dépasser 160 caractères.\n            Avoir une description unique pour chacune des pages."),g.forEach(p),I=u(e),M=l(e,"LABEL",{for:!0,class:!0});var h=O(M);D=S(h,"Titre (Open Graph) : vignette lorsque vous partagez la page sur les réseaux sociaux"),h.forEach(p),P=u(e),U=l(e,"INPUT",{id:!0,class:!0,type:!0,"aria-describedby":!0,placeholder:!0}),_=u(e),j=l(e,"DIV",{id:!0,class:!0});var $=O(j);z=S($,"Pas d'impact sur le SEO.\n            Lorsqu'un utilisateur partagera le lien de cette page sur les réseaux sociaux, une vignette s'affichera avec en titre le contenu que vous aurez renseigné."),$.forEach(p),w=u(e),B=l(e,"LABEL",{for:!0,class:!0});var x=O(B);N=S(x,"Description (Open Graph) : vignette lorsque vous partagez la page sur les réseaux sociaux"),x.forEach(p),R=u(e),F=l(e,"INPUT",{id:!0,class:!0,type:!0,"aria-describedby":!0,placeholder:!0}),k=u(e),V=l(e,"DIV",{id:!0,class:!0});var T=O(V);Q=S(T,"Pas d'impact sur le SEO.\n            Lorsqu'un utilisateur partagera le lien de cette page sur les réseaux sociaux, une vignette s'affichera avec en description le contenu que vous aurez renseigné."),T.forEach(p),this.h()},h(){m(t,"for","seo-title"),m(t,"class","mt-5"),m(n,"id","seo-title"),m(n,"class","form-control"),m(n,"type","text"),m(n,"aria-describedby","seo-title-helper"),m(n,"placeholder","Entrer le titre de la page (important pour le SEO)"),m(c,"id","seo-title-helper"),m(c,"class","form-text"),m(E,"for","seo-description"),m(E,"class","mt-3"),m(G,"id","seo-description"),m(G,"class","form-control"),m(G,"type","text"),m(G,"aria-describedby","seo-description-helper"),m(G,"placeholder","Entrer la description de la page"),m(q,"id","seo-description-helper"),m(q,"class","form-text"),m(M,"for","og-titre"),m(M,"class","mt-3"),m(U,"id","og-titre"),m(U,"class","form-control"),m(U,"type","text"),m(U,"aria-describedby","og-titre-helper"),m(U,"placeholder","Titre de la vignette sur les réseaux sociaux"),m(j,"id","og-titre-helper"),m(j,"class","form-text"),m(B,"for","og-description"),m(B,"class","mt-3"),m(F,"id","og-description"),m(F,"class","form-control"),m(F,"type","text"),m(F,"aria-describedby","og-description-helper"),m(F,"placeholder","Description de la vignette sur les réseaux sociaux"),m(V,"id","og-description-helper"),m(V,"class","form-text")},m(r,i){h(r,t,i),g(t,a),h(r,s,i),h(r,n,i),x(n,e[0].titleSeo),h(r,o,i),h(r,c,i),g(c,d),h(r,f,i),h(r,E,i),g(E,v),h(r,y,i),h(r,G,i),x(G,e[0].descriptionSeo),h(r,L,i),h(r,q,i),g(q,C),h(r,I,i),h(r,M,i),g(M,D),h(r,P,i),h(r,U,i),x(U,e[0].titleOG),h(r,_,i),h(r,j,i),g(j,z),h(r,w,i),h(r,B,i),g(B,N),h(r,R,i),h(r,F,i),x(F,e[0].descriptionOG),h(r,k,i),h(r,V,i),g(V,Q),X||(Y=[T(n,"input",e[10]),T(n,"change",(function(){b(e[4])&&e[4].apply(this,arguments)})),T(G,"input",e[11]),T(G,"change",(function(){b(e[4])&&e[4].apply(this,arguments)})),T(U,"input",e[12]),T(U,"change",(function(){b(e[4])&&e[4].apply(this,arguments)})),T(F,"input",e[13]),T(F,"change",(function(){b(e[4])&&e[4].apply(this,arguments)}))],X=!0)},p(t,a){e=t,1&a&&n.value!==e[0].titleSeo&&x(n,e[0].titleSeo),1&a&&G.value!==e[0].descriptionSeo&&x(G,e[0].descriptionSeo),1&a&&U.value!==e[0].titleOG&&x(U,e[0].titleOG),1&a&&F.value!==e[0].descriptionOG&&x(F,e[0].descriptionOG)},d(e){e&&p(t),e&&p(s),e&&p(n),e&&p(o),e&&p(c),e&&p(f),e&&p(E),e&&p(y),e&&p(G),e&&p(L),e&&p(q),e&&p(I),e&&p(M),e&&p(P),e&&p(U),e&&p(_),e&&p(j),e&&p(w),e&&p(B),e&&p(R),e&&p(F),e&&p(k),e&&p(V),X=!1,A(Y)}}}function N(e){let t,a=e[3]&&e[0]&&B(e);return{c(){a&&a.c(),t=G()},l(e){a&&a.l(e),t=G()},m(e,s){a&&a.m(e,s),h(e,t,s)},p(e,s){e[3]&&e[0]?a?a.p(e,s):(a=B(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&p(t)}}}function R(e){let t,a,s,n,$,O,S,x,T,b,A,G,L,q,C,I,M,P,U,_,j,z,w;return document.title=t=`${e[0]&&e[0].titleSeo?e[0].titleSeo:e[5]}`,z=new D({props:{size:{xs:12,sm:8,md:8,lg:8},$$slots:{default:[N]},$$scope:{ctx:e}}}),{c(){a=r("meta"),n=r("meta"),O=r("meta"),x=r("meta"),T=r("meta"),A=r("meta"),G=r("meta"),L=r("meta"),C=r("meta"),I=r("meta"),P=r("meta"),U=r("meta"),j=i(),o(z.$$.fragment),this.h()},l(e){const t=c('[data-svelte="svelte-156jgom"]',document.head);a=l(t,"META",{name:!0,content:!0}),n=l(t,"META",{property:!0,content:!0}),O=l(t,"META",{property:!0,content:!0}),x=l(t,"META",{property:!0,content:!0}),T=l(t,"META",{property:!0,content:!0}),A=l(t,"META",{property:!0,content:!0}),G=l(t,"META",{property:!0,content:!0}),L=l(t,"META",{property:!0,content:!0}),C=l(t,"META",{property:!0,content:!0}),I=l(t,"META",{name:!0,content:!0}),P=l(t,"META",{name:!0,content:!0}),U=l(t,"META",{name:!0,content:!0}),t.forEach(p),j=u(e),d(z.$$.fragment,e),this.h()},h(){m(a,"name","description"),m(a,"content",s=`${e[0]&&e[0].descriptionSeo?e[0].descriptionSeo:e[6]}`),m(n,"property","og:title"),m(n,"content",$=`${e[0]&&e[0].titleOG?e[0].titleOG:e[7]}`),m(O,"property","og:description"),m(O,"content",S=`${e[0]&&e[0].descriptionOG?e[0].descriptionOG:e[8]}`),m(x,"property","og:type"),m(x,"content","website"),m(T,"property","og:image"),m(T,"content",b=`${e[2]}${e[9]}`),m(A,"property","og:image:width"),m(A,"content","800"),m(G,"property","og:image:height"),m(G,"content","400"),m(L,"property","og:url"),m(L,"content",q=`${e[2]}${e[1].path}`),m(C,"property","og:locale"),m(C,"content","fr_FR"),m(I,"name","twitter:image"),m(I,"content",M=`${e[2]}${e[9]}`),m(P,"name","twitter:card"),m(P,"content","summary_large_image"),m(U,"name","twitter:description"),m(U,"content",_=`${e[0]&&e[0].descriptionOG?e[0].descriptionOG:e[8]}`)},m(e,t){g(document.head,a),g(document.head,n),g(document.head,O),g(document.head,x),g(document.head,T),g(document.head,A),g(document.head,G),g(document.head,L),g(document.head,C),g(document.head,I),g(document.head,P),g(document.head,U),h(e,j,t),f(z,e,t),w=!0},p(e,[r]){(!w||33&r)&&t!==(t=`${e[0]&&e[0].titleSeo?e[0].titleSeo:e[5]}`)&&(document.title=t),(!w||1&r&&s!==(s=`${e[0]&&e[0].descriptionSeo?e[0].descriptionSeo:e[6]}`))&&m(a,"content",s),(!w||1&r&&$!==($=`${e[0]&&e[0].titleOG?e[0].titleOG:e[7]}`))&&m(n,"content",$),(!w||1&r&&S!==(S=`${e[0]&&e[0].descriptionOG?e[0].descriptionOG:e[8]}`))&&m(O,"content",S),(!w||4&r&&b!==(b=`${e[2]}${e[9]}`))&&m(T,"content",b),(!w||6&r&&q!==(q=`${e[2]}${e[1].path}`))&&m(L,"content",q),(!w||4&r&&M!==(M=`${e[2]}${e[9]}`))&&m(I,"content",M),(!w||1&r&&_!==(_=`${e[0]&&e[0].descriptionOG?e[0].descriptionOG:e[8]}`))&&m(U,"content",_);const i={};16409&r&&(i.$$scope={dirty:r,ctx:e}),z.$set(i)},i(e){w||(E(z.$$.fragment,e),w=!0)},o(e){v(z.$$.fragment,e),w=!1},d(e){p(a),p(n),p(O),p(x),p(T),p(A),p(G),p(L),p(C),p(I),p(P),p(U),e&&p(j),y(z,e)}}}function F(e,t,a){let{pageContent:s}=t,{page:n}=t,{siteURL:r}=t,{admin:i}=t,{updateContent:o}=t;const c=`${P.SEO.DEFAULT_TITLE} ${s.name?s.name:""}`,l=P.SEO.DEFAULT_DESCRIPTION,p=P.SEO.DEFAULT_OG_TITLE,u=P.SEO.DEFAULT_OG_DESCRIPTION,d=P.SEO.DEFAULT_OG_IMAGE;return e.$$set=e=>{"pageContent"in e&&a(0,s=e.pageContent),"page"in e&&a(1,n=e.page),"siteURL"in e&&a(2,r=e.siteURL),"admin"in e&&a(3,i=e.admin),"updateContent"in e&&a(4,o=e.updateContent)},[s,n,r,i,o,c,l,p,u,d,function(){s.titleSeo=this.value,a(0,s)},function(){s.descriptionSeo=this.value,a(0,s)},function(){s.titleOG=this.value,a(0,s)},function(){s.descriptionOG=this.value,a(0,s)}]}class k extends a{constructor(e){super(),s(this,e,F,R,n,{pageContent:0,page:1,siteURL:2,admin:3,updateContent:4})}}export{k as S,z as c,_ as g,w as r,j as u};
