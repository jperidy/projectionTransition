import{a3 as e,a4 as t,S as a,i as n,s,a9 as o,j as l,m as c,o as r,x as i,u as p,v as u,ab as d,ac as $,ad as m,k as f,n as g,f as v,d as h,an as y,t as E,g as C,a5 as _,a7 as T,a6 as O,al as I,am as b,e as A,c as x,a as N,b as w,ao as L,O as P,ap as R,R as S,U,l as k,r as V,w as j,V as M,X as D,Y as B,Z as G,_ as z,T as q,a0 as X,a1 as Y}from"./vendor-5d9b017f.js";import{i as F,c as Q,h as Z,u as H,j as J,k as K}from"./CustomContainer-a7142113.js";import{d as W}from"./Loading-f946706e.js";const ee=Q.API_URL_PROD,te=async t=>{F.set({film:null,loading:!0,message:""});try{const a={headers:{"Content-type":"Application/json"}},{data:n}=await e.get(`${ee}/api/film/${t}`,a);return F.set({film:n.value,loading:!1,message:""}),{film:n.value,loading:!1,message:""}}catch(a){return F.set({film:null,loading:!1,message:"Error loading the film"+a}),{film:null,loading:!1,message:"Error loading the film"+a}}},ae=async(a,n)=>{Z.set({success:!1,loading:!0,message:""});const s=t(H);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${s.token}`}},{data:o}=await e.put(`${ee}/api/film/${a}`,n,t);Z.set({success:!0,loading:!1,message:"film updated"})}catch(o){Z.set({success:!1,loading:!1,message:"Error updating film "+o})}},ne=async a=>{const n={title:{},location:a,real:{},url:{},summury:{},infosGenerales:{},actions:[]};K.set({success:!1,loading:!0,message:""});const s=t(H);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${s.token}`}},{data:a}=await e.post(`${ee}/api/film`,n,t);return K.set({success:!0,loading:!1,message:"film updated"}),a.value._id}catch(o){K.set({success:!1,loading:!1,message:"Error updating film "+o})}},se=async a=>{if(a.filmId&&await(async a=>{J.set({success:!1,loading:!0,message:""});const n=t(H);try{const t={headers:{"Content-type":"Application/json",Authorization:`Bearer ${n.token}`}},{data:s}=await e.delete(`${ee}/api/film/${a}`,t);J.set({success:!0,loading:!1,message:"film deleted"})}catch(s){J.set({success:!1,loading:!1,message:"Error deleting film "+s})}})(a.filmId),a.values&&a.values.length)for(let e=0;e<a.values.length;e++)se(a.values[e])},oe=async e=>{e.url&&e.url.values.length&&oe(e.url.values),e.values&&e.values.length&&oe(e.values);for(let t=0;t<e.length;t++)e[t].url&&e[t].url.length&&await W(e[t].url),e[t].component&&e[t].component.values&&e[t].component.values.length&&oe(e[t].component.values),e[t].values&&e[t].values.length&&oe(e[t].values)};function le(e){let t;return{c(){t=E("Ajouter un contenu")},l(e){t=C(e,"Ajouter un contenu")},m(e,a){v(e,t,a)},d(e){e&&h(t)}}}function ce(e){let t;return{c(){t=E("Select")},l(e){t=C(e,"Select")},m(e,a){v(e,t,a)},d(e){e&&h(t)}}}function re(e){let t,a,n,s,o,d,$,m,y,_,T,O,I,k,V,j,M,D,B,G,z,q,X,Y,F,Q,Z,H,J,K,W,ee,te,ae,ne,se,oe,le,re,ie,pe,ue,de,$e,me,fe,ge,ve;return t=new b({props:{for:"exampleSelect",$$slots:{default:[ce]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment),a=f(),n=A("select"),s=A("option"),o=E("--- select ---"),$=A("option"),m=E("type LAYOUT"),_=A("option"),T=E("type TEXT"),I=A("option"),k=E("type IMAGE"),j=A("option"),M=E("type VIDEO"),B=A("option"),G=E("type CAROUSEL"),q=A("option"),X=E("type EDITO"),F=A("option"),Q=E("type ARTICLES"),H=A("option"),J=E("type PARTENAIRES"),W=A("option"),ee=E("type INFO VILLE"),ae=A("option"),ne=E("type PROGRAMMATION VILLE"),oe=A("option"),le=E("type EQUIPE"),ie=A("option"),pe=E("type CONTACT"),de=A("option"),$e=E("type TEST"),this.h()},l(e){c(t.$$.fragment,e),a=g(e),n=x(e,"SELECT",{class:!0,type:!0,name:!0,id:!0});var l=N(n);s=x(l,"OPTION",{});var r=N(s);o=C(r,"--- select ---"),r.forEach(h),$=x(l,"OPTION",{});var i=N($);m=C(i,"type LAYOUT"),i.forEach(h),_=x(l,"OPTION",{});var p=N(_);T=C(p,"type TEXT"),p.forEach(h),I=x(l,"OPTION",{});var u=N(I);k=C(u,"type IMAGE"),u.forEach(h),j=x(l,"OPTION",{});var d=N(j);M=C(d,"type VIDEO"),d.forEach(h),B=x(l,"OPTION",{});var f=N(B);G=C(f,"type CAROUSEL"),f.forEach(h),q=x(l,"OPTION",{});var v=N(q);X=C(v,"type EDITO"),v.forEach(h),F=x(l,"OPTION",{});var y=N(F);Q=C(y,"type ARTICLES"),y.forEach(h),H=x(l,"OPTION",{});var E=N(H);J=C(E,"type PARTENAIRES"),E.forEach(h),W=x(l,"OPTION",{});var O=N(W);ee=C(O,"type INFO VILLE"),O.forEach(h),ae=x(l,"OPTION",{});var b=N(ae);ne=C(b,"type PROGRAMMATION VILLE"),b.forEach(h),oe=x(l,"OPTION",{});var A=N(oe);le=C(A,"type EQUIPE"),A.forEach(h),ie=x(l,"OPTION",{});var w=N(ie);pe=C(w,"type CONTACT"),w.forEach(h),de=x(l,"OPTION",{});var L=N(de);$e=C(L,"type TEST"),L.forEach(h),l.forEach(h),this.h()},h(){s.__value="",s.value=s.__value,s.selected=d=""===e[1],$.__value="layoutComponent",$.value=$.__value,$.selected=y="layoutComponent"===e[1],_.__value="textComponent",_.value=_.__value,_.selected=O="textComponent"===e[1],I.__value="imageComponent",I.value=I.__value,I.selected=V="imageComponent"===e[1],j.__value="videoComponent",j.value=j.__value,j.selected=D="videoComponent"===e[1],B.__value="carouselComponent",B.value=B.__value,B.selected=z="carouselComponent"===e[1],q.__value="editoComponent",q.value=q.__value,q.selected=Y="editoComponent"===e[1],F.__value="articlesComponent",F.value=F.__value,F.selected=Z="articlesComponent"===e[1],H.__value="partenairesComponent",H.value=H.__value,H.selected=K="partenairesComponent"===e[1],W.__value="infoComponent",W.value=W.__value,W.selected=te="infoComponent"===e[1],ae.__value="programmationComponent",ae.value=ae.__value,ae.selected=se="programmationComponent"===e[1],oe.__value="equipeComponent",oe.value=oe.__value,oe.selected=re="equipeComponent"===e[1],ie.__value="contactComponent",ie.value=ie.__value,ie.selected=ue="contactComponent"===e[1],de.__value="test",de.value=de.__value,de.selected=me="test"===e[1],w(n,"class","form-select"),w(n,"type","select"),w(n,"name","select"),w(n,"id","exampleSelect"),void 0===e[1]&&L((()=>e[7].call(n)))},m(l,c){r(t,l,c),v(l,a,c),v(l,n,c),P(n,s),P(s,o),P(n,$),P($,m),P(n,_),P(_,T),P(n,I),P(I,k),P(n,j),P(j,M),P(n,B),P(B,G),P(n,q),P(q,X),P(n,F),P(F,Q),P(n,H),P(H,J),P(n,W),P(W,ee),P(n,ae),P(ae,ne),P(n,oe),P(oe,le),P(n,ie),P(ie,pe),P(n,de),P(de,$e),R(n,e[1]),fe=!0,ge||(ve=[S(n,"change",e[7]),S(n,"change",e[3])],ge=!0)},p(e,a){const o={};4096&a&&(o.$$scope={dirty:a,ctx:e}),t.$set(o),(!fe||2&a&&d!==(d=""===e[1]))&&(s.selected=d),(!fe||2&a&&y!==(y="layoutComponent"===e[1]))&&($.selected=y),(!fe||2&a&&O!==(O="textComponent"===e[1]))&&(_.selected=O),(!fe||2&a&&V!==(V="imageComponent"===e[1]))&&(I.selected=V),(!fe||2&a&&D!==(D="videoComponent"===e[1]))&&(j.selected=D),(!fe||2&a&&z!==(z="carouselComponent"===e[1]))&&(B.selected=z),(!fe||2&a&&Y!==(Y="editoComponent"===e[1]))&&(q.selected=Y),(!fe||2&a&&Z!==(Z="articlesComponent"===e[1]))&&(F.selected=Z),(!fe||2&a&&K!==(K="partenairesComponent"===e[1]))&&(H.selected=K),(!fe||2&a&&te!==(te="infoComponent"===e[1]))&&(W.selected=te),(!fe||2&a&&se!==(se="programmationComponent"===e[1]))&&(ae.selected=se),(!fe||2&a&&re!==(re="equipeComponent"===e[1]))&&(oe.selected=re),(!fe||2&a&&ue!==(ue="contactComponent"===e[1]))&&(ie.selected=ue),(!fe||2&a&&me!==(me="test"===e[1]))&&(de.selected=me),2&a&&R(n,e[1])},i(e){fe||(i(t.$$.fragment,e),fe=!0)},o(e){p(t.$$.fragment,e),fe=!1},d(e){u(t,e),e&&h(a),e&&h(n),ge=!1,U(ve)}}}function ie(e){let t,a;return t=new I({props:{$$slots:{default:[re]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,n){r(t,e,n),a=!0},p(e,a){const n={};4098&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){p(t.$$.fragment,e),a=!1},d(e){u(t,e)}}}function pe(e){let t,a;return t=new O({props:{$$slots:{default:[ie]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,n){r(t,e,n),a=!0},p(e,a){const n={};4098&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){p(t.$$.fragment,e),a=!1},d(e){u(t,e)}}}function ue(e){let t,a;return t=new _({props:{$$slots:{default:[pe]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,n){r(t,e,n),a=!0},p(e,a){const n={};4098&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){p(t.$$.fragment,e),a=!1},d(e){u(t,e)}}}function de(e){let t;return{c(){t=E("Enregistrer")},l(e){t=C(e,"Enregistrer")},m(e,a){v(e,t,a)},d(e){e&&h(t)}}}function $e(e){let t;return{c(){t=E("Cancel")},l(e){t=C(e,"Cancel")},m(e,a){v(e,t,a)},d(e){e&&h(t)}}}function me(e){let t,a,n,s;return t=new T({props:{color:"primary",$$slots:{default:[de]},$$scope:{ctx:e}}}),t.$on("click",e[8]),n=new T({props:{color:"secondary",$$slots:{default:[$e]},$$scope:{ctx:e}}}),n.$on("click",e[9]),{c(){l(t.$$.fragment),a=f(),l(n.$$.fragment)},l(e){c(t.$$.fragment,e),a=g(e),c(n.$$.fragment,e)},m(e,o){r(t,e,o),v(e,a,o),r(n,e,o),s=!0},p(e,a){const s={};4096&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s);const o={};4096&a&&(o.$$scope={dirty:a,ctx:e}),n.$set(o)},i(e){s||(i(t.$$.fragment,e),i(n.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),s=!1},d(e){u(t,e),e&&h(a),u(n,e)}}}function fe(e){let t,a,n,s,o,y;return t=new d({props:{toggle:e[2],$$slots:{default:[le]},$$scope:{ctx:e}}}),n=new $({props:{$$slots:{default:[ue]},$$scope:{ctx:e}}}),o=new m({props:{$$slots:{default:[me]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment),a=f(),l(n.$$.fragment),s=f(),l(o.$$.fragment)},l(e){c(t.$$.fragment,e),a=g(e),c(n.$$.fragment,e),s=g(e),c(o.$$.fragment,e)},m(e,l){r(t,e,l),v(e,a,l),r(n,e,l),v(e,s,l),r(o,e,l),y=!0},p(e,a){const s={};4096&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s);const l={};4098&a&&(l.$$scope={dirty:a,ctx:e}),n.$set(l);const c={};4096&a&&(c.$$scope={dirty:a,ctx:e}),o.$set(c)},i(e){y||(i(t.$$.fragment,e),i(n.$$.fragment,e),i(o.$$.fragment,e),y=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),p(o.$$.fragment,e),y=!1},d(e){u(t,e),e&&h(a),u(n,e),e&&h(s),u(o,e)}}}function ge(e){let t,a;return t=new o({props:{isOpen:e[0],toggle:e[2],size:"lg",scrollable:!0,$$slots:{default:[fe]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,n){r(t,e,n),a=!0},p(e,[a]){const n={};1&a&&(n.isOpen=e[0]),4098&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){p(t.$$.fragment,e),a=!1},d(e){u(t,e)}}}function ve(e,t,a){let{addContent:n=null}=t,{position:s=0}=t,{addToLayout:o=null}=t,{open:l=!1}=t,c="",r=[],i=[];const p=async e=>{l&&n&&e&&await n({type:c,values:r,styles:i},s),l&&o&&e&&await o({type:c,values:r,styles:i},s),a(0,l=!l)};return e.$$set=e=>{"addContent"in e&&a(4,n=e.addContent),"position"in e&&a(5,s=e.position),"addToLayout"in e&&a(6,o=e.addToLayout),"open"in e&&a(0,l=e.open)},[l,c,p,()=>{r=[],i=[]},n,s,o,function(){c=y(this),a(1,c)},()=>p(!0),()=>p(!1)]}class he extends a{constructor(e){super(),n(this,e,ve,ge,s,{addContent:4,position:5,addToLayout:6,open:0})}}function ye(e){let t,a;const n=e[11].default,s=M(n,e,e[10],null);return{c(){t=A("span"),s&&s.c()},l(e){t=x(e,"SPAN",{});var a=N(t);s&&s.l(a),a.forEach(h)},m(e,n){v(e,t,n),s&&s.m(t,null),a=!0},p(e,t){s&&s.p&&(!a||1024&t)&&D(s,n,e,e[10],a?G(n,e[10],t,null):B(e[10]),null)},i(e){a||(i(s,e),a=!0)},o(e){p(s,e),a=!1},d(e){e&&h(t),s&&s.d(e)}}}function Ee(e){let t,a,n,s,o,l,c,r,u,d,$,m,y,E,C,_,T,O,I,b,L=e[2]&&Ce(e);const R=e[11].default,k=M(R,e,e[10],null);let z=e[2]&&_e(e),q=e[2]&&Te(e);return{c(){L&&L.c(),t=f(),a=A("div"),n=A("div"),s=A("div"),k&&k.c(),o=f(),l=A("div"),c=A("div"),z&&z.c(),r=f(),u=A("button"),d=A("i"),$=f(),m=A("button"),y=A("i"),E=f(),C=A("button"),_=A("i"),T=f(),q&&q.c(),this.h()},l(e){L&&L.l(e),t=g(e),a=x(e,"DIV",{class:!0});var i=N(a);n=x(i,"DIV",{class:!0});var p=N(n);s=x(p,"DIV",{class:!0});var f=N(s);k&&k.l(f),f.forEach(h),o=g(p),l=x(p,"DIV",{class:!0});var v=N(l);c=x(v,"DIV",{class:!0});var O=N(c);z&&z.l(O),r=g(O),u=x(O,"BUTTON",{class:!0});var I=N(u);d=x(I,"I",{class:!0}),N(d).forEach(h),I.forEach(h),$=g(O),m=x(O,"BUTTON",{class:!0});var b=N(m);y=x(b,"I",{class:!0}),N(y).forEach(h),b.forEach(h),E=g(O),C=x(O,"BUTTON",{class:!0});var A=N(C);_=x(A,"I",{class:!0}),N(_).forEach(h),A.forEach(h),T=g(O),q&&q.l(O),O.forEach(h),v.forEach(h),p.forEach(h),i.forEach(h),this.h()},h(){w(s,"class","col"),w(d,"class","bi bi-caret-up"),w(u,"class","btn btn-secondary btn-sm"),w(y,"class","bi bi-trash"),w(m,"class","btn btn-danger btn-sm"),w(_,"class","bi bi-caret-down"),w(C,"class","btn btn-secondary btn-sm"),w(c,"class","d-grid gap-2"),w(l,"class","edition text-center svelte-dg0a67"),w(n,"class","row align-items-center"),w(a,"class","moving-container border-light rounded-3 mt-3 mb-1 p-3 bg-lavande shadow-lg svelte-dg0a67")},m(i,p){L&&L.m(i,p),v(i,t,p),v(i,a,p),P(a,n),P(n,s),k&&k.m(s,null),P(n,o),P(n,l),P(l,c),z&&z.m(c,null),P(c,r),P(c,u),P(u,d),P(c,$),P(c,m),P(m,y),P(c,E),P(c,C),P(C,_),P(c,T),q&&q.m(c,null),O=!0,I||(b=[S(u,"click",e[15]),S(m,"click",e[16]),S(C,"click",e[17])],I=!0)},p(e,a){e[2]?L?(L.p(e,a),4&a&&i(L,1)):(L=Ce(e),L.c(),i(L,1),L.m(t.parentNode,t)):L&&(V(),p(L,1,1,(()=>{L=null})),j()),k&&k.p&&(!O||1024&a)&&D(k,R,e,e[10],O?G(R,e[10],a,null):B(e[10]),null),e[2]?z?z.p(e,a):(z=_e(e),z.c(),z.m(c,r)):z&&(z.d(1),z=null),e[2]?q?q.p(e,a):(q=Te(e),q.c(),q.m(c,null)):q&&(q.d(1),q=null)},i(e){O||(i(L),i(k,e),O=!0)},o(e){p(L),p(k,e),O=!1},d(e){L&&L.d(e),e&&h(t),e&&h(a),k&&k.d(e),z&&z.d(),q&&q.d(),I=!1,U(b)}}}function Ce(e){let t,a,n,s,o,d;function $(t){e[12](t)}let m={addContent:e[2],position:e[0],addToLayout:""};function y(t){e[13](t)}void 0!==e[3]&&(m.open=e[3]),t=new he({props:m}),X.push((()=>Y(t,"open",$)));let E={addContent:e[2],position:e[0]+1,addToLayout:""};return void 0!==e[4]&&(E.open=e[4]),s=new he({props:E}),X.push((()=>Y(s,"open",y))),{c(){l(t.$$.fragment),n=f(),l(s.$$.fragment)},l(e){c(t.$$.fragment,e),n=g(e),c(s.$$.fragment,e)},m(e,a){r(t,e,a),v(e,n,a),r(s,e,a),d=!0},p(e,n){const l={};4&n&&(l.addContent=e[2]),1&n&&(l.position=e[0]),!a&&8&n&&(a=!0,l.open=e[3],z((()=>a=!1))),t.$set(l);const c={};4&n&&(c.addContent=e[2]),1&n&&(c.position=e[0]+1),!o&&16&n&&(o=!0,c.open=e[4],z((()=>o=!1))),s.$set(c)},i(e){d||(i(t.$$.fragment,e),i(s.$$.fragment,e),d=!0)},o(e){p(t.$$.fragment,e),p(s.$$.fragment,e),d=!1},d(e){u(t,e),e&&h(n),u(s,e)}}}function _e(e){let t,a,n,s;return{c(){t=A("button"),a=A("i"),this.h()},l(e){t=x(e,"BUTTON",{class:!0});var n=N(t);a=x(n,"I",{class:!0}),N(a).forEach(h),n.forEach(h),this.h()},h(){w(a,"class","bi bi-plus-circle-dotted"),w(t,"class","btn btn-primary btn-sm")},m(o,l){v(o,t,l),P(t,a),n||(s=S(t,"click",e[14]),n=!0)},p:q,d(e){e&&h(t),n=!1,s()}}}function Te(e){let t,a,n,s;return{c(){t=A("button"),a=A("i"),this.h()},l(e){t=x(e,"BUTTON",{class:!0});var n=N(t);a=x(n,"I",{class:!0}),N(a).forEach(h),n.forEach(h),this.h()},h(){w(a,"class","bi bi-plus-circle-dotted"),w(t,"class","btn btn-primary btn-sm")},m(o,l){v(o,t,l),P(t,a),n||(s=S(t,"click",e[18]),n=!0)},p:q,d(e){e&&h(t),n=!1,s()}}}function Oe(e){let t,a,n,s;const o=[Ee,ye],l=[];function c(e,t){return e[1]?0:1}return t=c(e),a=l[t]=o[t](e),{c(){a.c(),n=k()},l(e){a.l(e),n=k()},m(e,a){l[t].m(e,a),v(e,n,a),s=!0},p(e,[s]){let r=t;t=c(e),t===r?l[t].p(e,s):(V(),p(l[r],1,1,(()=>{l[r]=null})),j(),a=l[t],a?a.p(e,s):(a=l[t]=o[t](e),a.c()),i(a,1),a.m(n.parentNode,n))},i(e){s||(i(a),s=!0)},o(e){p(a),s=!1},d(e){l[t].d(e),e&&h(n)}}}function Ie(e,t,a){let{$$slots:n={},$$scope:s}=t,{array:o=[]}=t,{position:l=0}=t,{admin:c=!1}=t,{updateMovedArray:r}=t,{addContent:i}=t,p=!1,u=!1;const d=(e,t,a)=>{var n=e[t];return e.splice(t,1),e.splice(a,0,n),e},$=()=>{l>0&&a(8,o=d(o,l,l-1)),r(o)},m=()=>{l<o.length-1&&a(8,o=d(o,l,l+1)),r(o)},f=async()=>{const e=o[l];await oe(e),await se(o[l]),o.splice(l,1),r(o)};return e.$$set=e=>{"array"in e&&a(8,o=e.array),"position"in e&&a(0,l=e.position),"admin"in e&&a(1,c=e.admin),"updateMovedArray"in e&&a(9,r=e.updateMovedArray),"addContent"in e&&a(2,i=e.addContent),"$$scope"in e&&a(10,s=e.$$scope)},[l,c,i,p,u,$,m,f,o,r,s,n,function(e){p=e,a(3,p)},function(e){u=e,a(4,u)},()=>a(3,p=!0),()=>$(),async()=>await f(),()=>m(),()=>a(4,u=!0)]}class be extends a{constructor(e){super(),n(this,e,Ie,Oe,s,{array:8,position:0,admin:1,updateMovedArray:9,addContent:2})}}export{he as A,be as M,ne as c,te as g,oe as r,ae as u};
